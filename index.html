<!DOCTYPE html>
<html>
<body>

<ngx-charts-number-card ng-reflect-results="[object Object],[object Object" ng-reflect-view="700,400" ng-reflect-scheme="[object Object]">
  <ngx-charts-chart ng-reflect-view="700,400" ng-reflect-show-legend="false" ng-reflect-animations="true">
    <div class="ngx-charts-outer" style="width: 800px; height: 400px;" >	
		<svg class="ngx-charts" style="width: 800px; height: 400px;" >
			<g class="number-card chart clickable" transform="translate(10 , 10)">
				<g ngx-charts-card-series="" ng-reflect-data="[object Object],[object Object" ng-reflect-dims="[object Object]" ng-reflect-colors="[object Object]" ng-reflect-inner-padding="15" ng-reflect-empty-color="rgba(0, 0, 0, 0)" ng-reflect-animations="true">
					<g ngx-charts-card="" ng-reflect-color="#5AA454" ng-reflect-band-color="#5AA454" ng-reflect-text-color="rgb(0, 102, 255)" ng-reflect-x="1" ng-reflect-y="0" ng-reflect-width="211" ng-reflect-height="365" ng-reflect-data="[object Object]" ng-reflect-median-size="9" ng-reflect-animations="true">
						<g class="cell" transform="translate(1 , 0)">
							<rect class="card" rx="3" ry="3" width="211" height="365" style="fill: rgb(0, 102, 255);"></rect>
							<title>Date</title>
							<foreignObject alignment-baseline="hanging" class="trimmed-label" x="0" y="0" width="211" height="60">
							<center><p style="color: rgb(18, 33, 17); font-size: 15px; line-height: 15px;">Date</p></center>
							</foreignObject>
							<text text id = "date" alignment-baseline="hanging" class="value-text" text-anchor="start" x="26.375" y="100" style="fill: rgb(255, 255, 255); font-size: 15t;">
							Unknown</text>
						</g>
					</g>
					<g ngx-charts-card="" ng-reflect-color="#A10A28" ng-reflect-band-color="#A10A28" ng-reflect-text-color="rgb(0, 204, 102)" ng-reflect-x="227" ng-reflect-y="0" ng-reflect-width="211" ng-reflect-height="365" ng-reflect-data="[object Object]" ng-reflect-median-size="9" ng-reflect-animations="true">
						<g class="cell" transform="translate(227 , 0)">
							<rect class="card" rx="3" ry="3" width="211" height="365" style="fill: rgb(0, 204, 102);"></rect>
							<title>Temperature</title>
							<foreignObject alignment-baseline="hanging" class="trimmed-label" x="0" y="0" width="211" height="60">
							<center><p style="color: rgb(236, 206, 212); font-size: 15px; line-height: 15px;">Temperature</p></center>
							</foreignObject>
							<text id = "temp" alignment-baseline="hanging" class="value-text" text-anchor="start" x="26.375" y="100" style="fill: rgb(255, 255, 255); font-size: 15t;">
							Unknown </text>
						</g>
					</g>
					<g ngx-charts-card="" ng-reflect-color="#C7B42C" ng-reflect-band-color="#C7B42C" ng-reflect-text-color="rgb(255, 77, 77)" ng-reflect-x="453" ng-reflect-y="0" ng-reflect-width="211" ng-reflect-height="365" ng-reflect-data="[object Object]" ng-reflect-median-size="9" ng-reflect-animations="true">
						<g class="cell" transform="translate(453 , 0)">
							<rect class="card" rx="3" ry="3" width="211" height="365" style="fill: rgb(255, 77, 77);"></rect>
							<title>Bin Collection</title>
							<foreignObject alignment-baseline="hanging" class="trimmed-label" x="0" y="0" width="211" height="60">
							<center><p style="color: rgb(40, 36, 9); font-size: 15px; line-height: 15px;">Bin Collection</p></center>
							</foreignObject>
							<text id = "bins" alignment-baseline="hanging" class="value-text" text-anchor="start" x="26.375" y="100" style="fill: rgb(255, 255, 255); font-size: 15pt;">
							Unknown
							</text>
						</g>
					</g>
				</g>
			</g>
		</svg>
    </div>
</ngx-charts-chart>
</ngx-charts-number-card>
  
<button onclick="GetWeather()">Update Weather</button>
<button onclick="GetBins()">Update Bins</button>

<script>

function GetWeather() {

var xhr = new XMLHttpRequest();
xhr.open("GET", "https://dataservice.accuweather.com/currentconditions/v1/331001?apikey=EOohJt6RCWbUO9hGgyIvRbxVIdKe3ZOS&details=true", false);
//xhr.setRequestHeader('Content-Type', 'application/json');
xhr.send(null);

var data=xhr.responseText;
var jsonResponse = JSON.parse(data);

document.getElementById("temp").innerHTML = jsonResponse[0].Temperature.Metric.Value + " Â°C";
	
}

function GetBins() {


}

</script>	

</body>
</html>

<!

https://jws.amey.co.uk/SurreyWaste/NextCollectionDay.aspx

API Key	EOohJt6RCWbUO9hGgyIvRbxVIdKe3ZOS

west byfleet 331001

GET /currentconditions/v1/331001?apikey=EOohJt6RCWbUO9hGgyIvRbxVIdKe3ZOS&details=true 
HTTP/1.1

Accept: */*
Accept-Encoding: gzip
Accept-Language: en-US
Host: dataservice.accuweather.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML
X-Forwarded-For:46.226.49.233
X-Forwarded-Port: 443
X-Forwarded-Proto: https


curl -X GET "http://dataservice.accuweather.com/currentconditions/v1/331001?apikey=EOohJt6RCWbUO9hGgyIvRbxVIdKe3ZOS&details=true"


var xhr = new XMLHttpRequest();
xhr.open("POST", "/Jobs/" + env, true);
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.send(json);

document.getElementById("result").innerHTML = "Running...";

xhr.onload = function () {
    document.getElementById("result").innerHTML = "Result: " + xhr.status;

};

	

HTTP/1.1 200 OK
Accept:
*/*
Accept-Encoding:
gzip
Accept-Language:
en-US
Access-Control-Allow-Headers:
origin
Access-Control-Allow-Methods:
GET
Access-Control-Allow-Origin:
*
Access-Control-Max-Age:
3628800
Cache-Control:
public
Connection:
keep-alive
Content-Encoding:
gzip
Content-Type:
application/json; charset=utf-8
Date:
Wed, 20 Feb 2019 10:57:25 GMT
Expires:
Wed, 20 Feb 2019 11:12:25 GMT
Origin:
https://developer.accuweather.com
RateLimit-Limit:
50
RateLimit-Remaining:
48
Referer:
https://developer.accuweather.com/accuweather-current-conditions-api/apis/get/currentconditions/v1/%7BlocationKey%7D
transfer-encoding:
chunked
User-Agent:
Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML
Vary:
Accept-Encoding
X-Forwarded-For:
46.226.49.233
X-Forwarded-Port:
80
X-Forwarded-Proto:
http
[
  {
    "LocalObservationDateTime": "2019-02-20T10:51:00+00:00",
    "EpochTime": 1550659860,
    "WeatherText": "Cloudy",
    "WeatherIcon": 7,
    "HasPrecipitation": false,
    "PrecipitationType": null,
    "IsDayTime": true,
    "Temperature": {
      "Metric": {
        "Value": 9.2,
        "Unit": "C",
        "UnitType": 17
      },
      "Imperial": {
        "Value": 49,
        "Unit": "F",
        "UnitType": 18
      }
    },
    "RealFeelTemperature": {
      "Metric": {
        "Value": 5.6,
        "Unit": "C",
        "UnitType": 17
      },
      "Imperial": {
        "Value": 42,
        "Unit": "F",
        "UnitType": 18
      }
    },
    "RealFeelTemperatureShade": {
      "Metric": {
        "Value": 5.6,
        "Unit": "C",
        "UnitType": 17
      },
      "Imperial": {
        "Value": 42,
        "Unit": "F",
        "UnitType": 18
      }
    },
    "RelativeHumidity": 77,
    "DewPoint": {
      "Metric": {
        "Value": 5.3,
        "Unit": "C",
        "UnitType": 17
      },
      "Imperial": {
        "Value": 42,
        "Unit": "F",
        "UnitType": 18
      }
    },
    "Wind": {
      "Direction": {
        "Degrees": 203,
        "Localized": "SSW",
        "English": "SSW"
      },
      "Speed": {
        "Metric": {
          "Value": 19,
          "Unit": "km/h",
          "UnitType": 7
        },
        "Imperial": {
          "Value": 11.8,
          "Unit": "mi/h",
          "UnitType": 9
        }
      }
    },
    "WindGust": {
      "Speed": {
        "Metric": {
          "Value": 30.3,
          "Unit": "km/h",
          "UnitType": 7
        },
        "Imperial": {
          "Value": 18.8,
          "Unit": "mi/h",
          "UnitType": 9
        }
      }
    },
    "UVIndex": 1,
    "UVIndexText": "Low",
    "Visibility": {
      "Metric": {
        "Value": 16.1,
        "Unit": "km",
        "UnitType": 6
      },
      "Imperial": {
        "Value": 10,
        "Unit": "mi",
        "UnitType": 2
      }
    },
    "ObstructionsToVisibility": "",
    "CloudCover": 97,
    "Ceiling": {
      "Metric": {
        "Value": 2560,
        "Unit": "m",
        "UnitType": 5
      },
      "Imperial": {
        "Value": 8400,
        "Unit": "ft",
        "UnitType": 0
      }
    },
    "Pressure": {
      "Metric": {
        "Value": 1020,
        "Unit": "mb",
        "UnitType": 14
      },
      "Imperial": {
        "Value": 30.12,
        "Unit": "inHg",
        "UnitType": 12
      }
    },
    "PressureTendency": {
      "LocalizedText": "Rising",
      "Code": "R"
    },
    "Past24HourTemperatureDeparture": {
      "Metric": {
        "Value": 2.1,
        "Unit": "C",
        "UnitType": 17
      },
      "Imperial": {
        "Value": 4,
        "Unit": "F",
        "UnitType": 18
      }
    },
    "ApparentTemperature": {
      "Metric": {
        "Value": 11.1,
        "Unit": "C",
        "UnitType": 17
      },
      "Imperial": {
        "Value": 52,
        "Unit": "F",
        "UnitType": 18
      }
    },
    "WindChillTemperature": {
      "Metric": {
        "Value": 6.7,
        "Unit": "C",
        "UnitType": 17
      },
      "Imperial": {
        "Value": 44,
        "Unit": "F",
        "UnitType": 18
      }
    },
    "WetBulbTemperature": {
      "Metric": {
        "Value": 7.4,
        "Unit": "C",
        "UnitType": 17
      },
      "Imperial": {
        "Value": 45,
        "Unit": "F",
        "UnitType": 18
      }
    },
    "Precip1hr": {
      "Metric": {
        "Value": 0,
        "Unit": "mm",
        "UnitType": 3
      },
      "Imperial": {
        "Value": 0,
        "Unit": "in",
        "UnitType": 1
      }
    },
    "PrecipitationSummary": {
      "Precipitation": {
        "Metric": {
          "Value": 0,
          "Unit": "mm",
          "UnitType": 3
        },
        "Imperial": {
          "Value": 0,
          "Unit": "in",
          "UnitType": 1
        }
      },
      "PastHour": {
        "Metric": {
          "Value": 0,
          "Unit": "mm",
          "UnitType": 3
        },
        "Imperial": {
          "Value": 0,
          "Unit": "in",
          "UnitType": 1
        }
      },
      "Past3Hours": {
        "Metric": {
          "Value": 0,
          "Unit": "mm",
          "UnitType": 3
        },
        "Imperial": {
          "Value": 0,
          "Unit": "in",
          "UnitType": 1
        }
      },
      "Past6Hours": {
        "Metric": {
          "Value": 0,
          "Unit": "mm",
          "UnitType": 3
        },
        "Imperial": {
          "Value": 0,
          "Unit": "in",
          "UnitType": 1
        }
      },
      "Past9Hours": {
        "Metric": {
          "Value": 0,
          "Unit": "mm",
          "UnitType": 3
        },
        "Imperial": {
          "Value": 0,
          "Unit": "in",
          "UnitType": 1
        }
      },
      "Past12Hours": {
        "Metric": {
          "Value": 0,
          "Unit": "mm",
          "UnitType": 3
        },
        "Imperial": {
          "Value": 0,
          "Unit": "in",
          "UnitType": 1
        }
      },
      "Past18Hours": {
        "Metric": {
          "Value": 0,
          "Unit": "mm",
          "UnitType": 3
        },
        "Imperial": {
          "Value": 0,
          "Unit": "in",
          "UnitType": 1
        }
      },
      "Past24Hours": {
        "Metric": {
          "Value": 0,
          "Unit": "mm",
          "UnitType": 3
        },
        "Imperial": {
          "Value": 0,
          "Unit": "in",
          "UnitType": 1
        }
      }
    },
    "TemperatureSummary": {
      "Past6HourRange": {
        "Minimum": {
          "Metric": {
            "Value": 7.1,
            "Unit": "C",
            "UnitType": 17
          },
          "Imperial": {
            "Value": 45,
            "Unit": "F",
            "UnitType": 18
          }
        },
        "Maximum": {
          "Metric": {
            "Value": 9.2,
            "Unit": "C",
            "UnitType": 17
          },
          "Imperial": {
            "Value": 49,
            "Unit": "F",
            "UnitType": 18
          }
        }
      },
      "Past12HourRange": {
        "Minimum": {
          "Metric": {
            "Value": 6.2,
            "Unit": "C",
            "UnitType": 17
          },
          "Imperial": {
            "Value": 43,
            "Unit": "F",
            "UnitType": 18
          }
        },
        "Maximum": {
          "Metric": {
            "Value": 9.2,
            "Unit": "C",
            "UnitType": 17
          },
          "Imperial": {
            "Value": 49,
            "Unit": "F",
            "UnitType": 18
          }
        }
      },
      "Past24HourRange": {
        "Minimum": {
          "Metric": {
            "Value": 6.2,
            "Unit": "C",
            "UnitType": 17
          },
          "Imperial": {
            "Value": 43,
            "Unit": "F",
            "UnitType": 18
          }
        },
        "Maximum": {
          "Metric": {
            "Value": 10.9,
            "Unit": "C",
            "UnitType": 17
          },
          "Imperial": {
            "Value": 52,
            "Unit": "F",
            "UnitType": 18
          }
        }
      }
    },
    "MobileLink": "http://m.accuweather.com/en/gb/west-byfleet/gu21-5/current-weather/331001?lang=en-us",
    "Link": "http://www.accuweather.com/en/gb/west-byfleet/gu21-5/current-weather/331001?lang=en-us"
  }
]	

>